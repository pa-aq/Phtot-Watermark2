# Photo-Watermark2

一款基于PyQt5开发的Windows桌面应用程序，用于为图片添加水印，支持文本水印和图片水印。

## 功能特点

### 文件处理
- 支持单张图片拖拽或通过文件选择器导入
- 支持批量导入多张图片或整个文件夹
- 在界面上显示已导入图片的列表（缩略图和文件名）
- 支持导入格式：JPEG, PNG, BMP, TIFF
- 支持导出格式：JPEG 或 PNG
- 导出时可设置文件命名规则（保留原名、添加前缀、添加后缀）
- 支持JPEG质量调节

### 水印类型
- **文本水印**：支持自定义文本、字体、字号、颜色、透明度
- **图片水印**：支持选择本地图片作为水印，可调节大小和透明度
- 支持水印旋转
- 支持阴影和描边效果

### 水印布局
- 实时预览水印效果
- 预设九宫格位置（四角、中心等）
- 支持鼠标拖拽调整水印位置

### 配置管理
- 支持保存和加载水印模板
- 自动保存上次使用的配置

## 安装说明

### 方法一：直接运行（需要Python环境）

1. 确保已安装Python 3.8或更高版本
2. 安装依赖包：
   ```bash
   pip install -r requirements.txt
   ```
3. 运行程序：
   ```bash
   python main.py
   ```

### 方法二：打包成可执行文件（可选）

可以使用PyInstaller将程序打包成Windows可执行文件：

```bash
pip install pyinstaller
pyinstaller --onefile --windowed --icon=icon.ico main.py
```

## 使用教程

### 1. 导入图片
- 点击"导入单张图片"按钮选择一张图片
- 点击"批量导入"按钮选择多张图片
- 点击"导入文件夹"按钮导入整个文件夹中的图片

### 2. 设置水印
- 在"水印设置"选项卡中选择水印类型（文本或图片）
- 对于文本水印，输入文本内容，选择字体、字号、颜色等
- 对于图片水印，选择水印图片，设置缩放比例
- 调整透明度、旋转角度等参数
- 使用预设位置按钮或直接在预览窗口拖拽调整水印位置

### 3. 保存模板（可选）
- 设置完成后，点击"保存当前设置为模板"
- 输入模板名称，方便后续使用

### 4. 导出图片
- 在"导出设置"选项卡中选择输出文件夹
- 设置输出格式、文件命名规则等
- 点击"导出选中图片"或"导出所有图片"完成导出

## 注意事项
- 默认禁止导出到原文件夹，以防止覆盖原图
- PNG格式支持透明通道，JPEG格式不支持透明通道
- 建议在处理大文件时关闭预览以提高性能

## 技术栈
- Python 3.8+
- PyQt5（GUI框架）
- Pillow（图像处理）

## 许可证
MIT License
